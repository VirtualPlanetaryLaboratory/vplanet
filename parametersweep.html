<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Parameter Sweep Guide &mdash; VPLanet 2.5.6
 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=d948c9a6" />
      <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=53b7011b"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorials" href="tutorials.html" />
    <link rel="prev" title="VPLOT" href="vplot.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            VPLanet
          </a>
              <div class="version">
                2.5.6

              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="conduct.html">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing VPLanet</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Options and Outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="src.html">C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="vplot.html">VPLOT</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Parameter Sweep Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#initializing-parameter-sweeps-with-vspace">Initializing Parameter Sweeps with <code class="code docutils literal notranslate"><span class="pre">VSPACE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-simulations-with-multiplanet">Running Simulations with <code class="code docutils literal notranslate"><span class="pre">MultiPlanet</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#checking-multiplanet-progress-with-mpstatus">Checking <code class="code docutils literal notranslate"><span class="pre">MultiPlanet</span></code> Progress with <code class="code docutils literal notranslate"><span class="pre">mpstatus</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#compressing-data-with-bigplanet">Compressing Data with <code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#checking-bigplanet-progress-with-bpstatus">Checking <code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code> Progress with <code class="code docutils literal notranslate"><span class="pre">bpstatus</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#extracting-and-plotting-with-bigplanet">Extracting and Plotting with <code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-meta-data-files-with-bigplanet">Creating Meta-Data Files with <code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference external" href="http://faculty.washington.edu/rkb9/vplanet/Workshop21/">Workshop Lectures</a></li>
<li class="toctree-l1"><a class="reference internal" href="developers.html">Contributor’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="repos.html">Other VPLanet Repositories</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/VirtualPlanetaryLaboratory/vplanet">GitHub</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">VPLanet</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Parameter Sweep Guide</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/parametersweep.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="parameter-sweep-guide">
<h1>Parameter Sweep Guide<a class="headerlink" href="#parameter-sweep-guide" title="Link to this heading"></a></h1>
<p>Parameter sweeps are a very common use of <code class="docutils literal notranslate"><span class="pre">VPLanet</span></code>, and the team has
developed a set of Python and command line tools to facilitate their completion
and analysis. In brief, <code class="code docutils literal notranslate"><span class="pre">VSPACE</span></code> builds a set of initial conditions,
<code class="code docutils literal notranslate"><span class="pre">multi-planet</span></code> performs the simulations, and <code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code> compresses the data
and streamlines analysis. The following guide explains how to use these
tools with an example based on Earth’s internal thermal evolution. Files for the example
presented here can be found in <a class="reference external" href="https://github.com/VirtualPlanetaryLaboratory/vplanet/tree/master/examples/ParameterSweep">examples/ParameterSweep</a>
in which we examine the current radius of Earth’s inner core as a function of the initial
core temperature and the current amount of radiogenic heating from potassium-40.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You need to install <code class="code docutils literal notranslate"><span class="pre">vplot</span></code>, <code class="code docutils literal notranslate"><span class="pre">VSPACE</span></code>, <code class="code docutils literal notranslate"><span class="pre">MultiPlanet</span></code>, and <code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code> to
reproduce this example.</p>
</div>
<section id="initializing-parameter-sweeps-with-vspace">
<h2>Initializing Parameter Sweeps with <code class="code docutils literal notranslate"><span class="pre">VSPACE</span></code><a class="headerlink" href="#initializing-parameter-sweeps-with-vspace" title="Link to this heading"></a></h2>
<p>The first step is to create an input file for <code class="code docutils literal notranslate"><span class="pre">VSPACE</span></code>, which is typically called <cite>VSPACE.in</cite>.
As described in more detail in <code class="code docutils literal notranslate"><span class="pre">VSPACE</span></code>’s <a class="reference external" href="https://virtualplanetarylaboratory.github.io/VSPACE/">documentation</a>, this file
modifies template files (here we use the <code class="docutils literal notranslate"><span class="pre">VPLanet</span></code> input files from <a class="reference external" href="https://github.com/VirtualPlanetaryLaboratory/vplanet/tree/master/examples/EarthInterior">examples/EarthInterior</a>)
and then builds a directory structure with each
folder containing the input files for a specific simulation. In this guide we vary
dTCore (initial core temperature) and d40KPowerCore (initial radiogenic power from potassium-40).</p>
<p>Here’s the input file for <code class="code docutils literal notranslate"><span class="pre">VSPACE</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sSrcFolder<span class="w"> </span>~/vplanet/examples/EarthInterior
sDestFolder<span class="w"> </span>ParameterSweep
sTrialName<span class="w"> </span>test_

sBodyFile<span class="w">   </span>sun.in

sBodyFile<span class="w">   </span>earth.in

dTCore<span class="w"> </span><span class="o">[</span><span class="m">5500</span>,<span class="w"> </span><span class="m">6500</span>,<span class="w"> </span>n10<span class="o">]</span><span class="w"> </span>tcore
d40KPowerCore<span class="w"> </span><span class="o">[</span>-1.5,<span class="w"> </span>-0.5,<span class="w"> </span>n10<span class="o">]</span><span class="w"> </span>K

sPrimaryFile<span class="w">   </span>vpl.in
</pre></div>
</div>
<p>This file directs <code class="code docutils literal notranslate"><span class="pre">VSPACE</span></code> to vary initial core temperature from 5500 to 6500 in 10 steps and
initial potassium-40 power from 50 - 150% of Earth’s nominal initial amount. The directories will be built in a folder called
ParameterSweep and the individual folders will be called test_tcore?K?, where the
“n” tells <code class="code docutils literal notranslate"><span class="pre">VSPACE</span></code> to create 10 evenly spaced values for each (other distributions are available), so the total number of
simulations will be 100.</p>
<p>To build the files, run the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vspace<span class="w"> </span><span class="o">[</span>-q<span class="w"> </span>-f<span class="o">]</span><span class="w"> </span>vspace.in
</pre></div>
</div>
<p>This command will create the folder ParameterSweep, with 100 folders
inside of it, each with their own sun.in, earth.in and vpl.in with the
parameters from the EarthInteror example, but with dTCore and d40KPowerCore changed
based on the instructions in the VSPACE.in file. Use <code class="docutils literal notranslate"><span class="pre">-q</span></code> to suppress output and <code class="docutils literal notranslate"><span class="pre">-f</span></code> to force <code class="code docutils literal notranslate"><span class="pre">VSPACE</span></code> to overwrite previous
data (including any <code class="code docutils literal notranslate"><span class="pre">MultiPlanet</span></code> and <code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code> files!). Now we are ready to run the parameter sweep.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you randomly generate initial conditions, i.e. Monte Carlo, then <code class="code docutils literal notranslate"><span class="pre">VSPACE</span></code> automatically creates histograms of the
options you varied so you can confirm the initial conditions. These png files are located in <em>destfolder</em>.</p>
</div>
</section>
<section id="running-simulations-with-multiplanet">
<h2>Running Simulations with <code class="code docutils literal notranslate"><span class="pre">MultiPlanet</span></code><a class="headerlink" href="#running-simulations-with-multiplanet" title="Link to this heading"></a></h2>
<p><code class="code docutils literal notranslate"><span class="pre">MultiPlanet</span></code> is the command line tool to run the simulations created with <code class="code docutils literal notranslate"><span class="pre">VSPACE</span></code>
across the processors on your computer. To run, type the following in the
command line:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>multiplanet<span class="w"> </span>-c<span class="w"> </span>&lt;num_cores&gt;<span class="w"> </span><span class="o">[</span>-q<span class="w"> </span>-bp<span class="o">]</span><span class="w"> </span>vspace.in
</pre></div>
</div>
<p>The optional argument <code class="docutils literal notranslate"><span class="pre">-c</span></code> (or <code class="docutils literal notranslate"><span class="pre">--cores</span></code>) tells <code class="code docutils literal notranslate"><span class="pre">MultiPlanet</span></code> the number of cores to run.
The <code class="docutils literal notranslate"><span class="pre">-bp</span></code> flag creates <a class="reference external" href="https://virtualplanetarylaboratory.github.io/bigplanet/filetypes.html">“BigPlanet archive</a>
directly after the simulation completes, but we are going to leave it at the default
setting, which is false. See the <code class="code docutils literal notranslate"><span class="pre">MultiPlanet</span></code> <a class="reference external" href="https://virtualplanetarylaboratory.github.io/multi-planet">documentation</a> for
more information. Use the -q option to suppress output to the terminal.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The default number of cores <code class="code docutils literal notranslate"><span class="pre">MultiPlanet</span></code> will use is the maximum number of
cores on the machine.</p>
</div>
</section>
<section id="checking-multiplanet-progress-with-mpstatus">
<h2>Checking <code class="code docutils literal notranslate"><span class="pre">MultiPlanet</span></code> Progress with <code class="code docutils literal notranslate"><span class="pre">mpstatus</span></code><a class="headerlink" href="#checking-multiplanet-progress-with-mpstatus" title="Link to this heading"></a></h2>
<p>This example is quick to run (~1 minute, depending on the number of cores), but for
longer simulations it is often
helpful to know how far along the parameter sweep is. The command <code class="code docutils literal notranslate"><span class="pre">mpstatus</span></code> returns the
current state of the <code class="code docutils literal notranslate"><span class="pre">MultiPlanet</span></code> process. To check the current status, type the
following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mpstatus<span class="w"> </span>vspace.in
</pre></div>
</div>
<p>This command returns output like the following to the terminal:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="w">  </span>--MultiPlanet<span class="w"> </span>Status--
Number<span class="w"> </span>of<span class="w"> </span>Simulations<span class="w"> </span>completed:<span class="w"> </span><span class="m">35</span>
Number<span class="w"> </span>of<span class="w"> </span>Simulations<span class="w"> </span><span class="k">in</span><span class="w"> </span>progress:<span class="w"> </span><span class="m">6</span>
Number<span class="w"> </span>of<span class="w"> </span>Simulations<span class="w"> </span>remaining:<span class="w"> </span><span class="m">59</span>
</pre></div>
</div>
<p>But with the proper numbers shown.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you decide to <em>rerun</em> a parameter sweep, you must delete the checkpoint file!
The name of this file is <code class="docutils literal notranslate"><span class="pre">.sDestFolder</span></code>, where sDestFolder is the option in <code class="code docutils literal notranslate"><span class="pre">VSPACE</span></code>
the provdes the name for the directory that contains the simulations. If you do not delete
this file, the <code class="code docutils literal notranslate"><span class="pre">MultiPlanet</span></code> will conclude your sweep has finished and will not restart
the simulations.</p>
</div>
<p>After <code class="code docutils literal notranslate"><span class="pre">MultiPlanet</span></code> completes, you may have a large number of directories with gigabytes
of data. Storing, analyzing, and plotting these data can be tedious as each output file
from each directory must be opened and read in sequentially. To streamline this process,
use <code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code>.</p>
</section>
<section id="compressing-data-with-bigplanet">
<h2>Compressing Data with <code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code><a class="headerlink" href="#compressing-data-with-bigplanet" title="Link to this heading"></a></h2>
<p>The <code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code> command compresses your parameter sweep data into an HDF5 file in which
specific data can be efficiently extracted. <strong>Although compression can take some time,
plotting with a</strong> <code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code> ** file can be orders of magnitude faster because the script will
not need to open files and each directory!** Here we demonstrate the typical workflow of building a biplanet file.
To compress the data, type the following command in the terminal (after MultiPlanet
finishes):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bigplanet<span class="w"> </span>-c<span class="w"> </span>&lt;num_cores&gt;<span class="w"> </span><span class="o">[</span>-a<span class="o">]</span><span class="w"> </span>bpl.in
</pre></div>
</div>
<p>The BigPlanet arguments work similarly to <code class="code docutils literal notranslate"><span class="pre">multiplanet</span></code>’s with the user able to
specify the number of processors <code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code> can use. The only difference is that
BigPlanet uses a bpl.in file, which is <em>very</em> similar to a vspace input file.</p>
<p>Here’s the input file for <code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sDestFolder<span class="w"> </span>ParameterSweep
sArchiveFile<span class="w"> </span>ParameterSweep.bpa
sOutputFile<span class="w"> </span>ParameterSweep.bpf

saBodyFiles<span class="w">   </span>earth.in<span class="w"> </span>sun.in
sPrimaryFile<span class="w">   </span>vpl.in

saKeyInclude<span class="w"> </span>earth:TCore:initial<span class="w"> </span>earth:40KPowerCore:final<span class="w"> </span>earth:RIC:final
</pre></div>
</div>
<p>This will create an <a class="reference external" href="https://en.wikipedia.org/wiki/Hierarchical_Data_Format">HDF5</a> file
that shares the same name as the destfolder from the <code class="code docutils literal notranslate"><span class="pre">VSPACE</span></code> file, but with “.bpf” or “.bpa”
appended, depending on what type of BigPlanet file. In this case, we are creating ParameterSweep.bpf.
This file will now replace the directory structure created by <code class="code docutils literal notranslate"><span class="pre">VSPACE</span></code>.
The -a option is for creation of an archive file (the .bpa file), which has <strong>everything</strong> from
the destfolder created with <code class="code docutils literal notranslate"><span class="pre">VSPACE</span></code> and the data generated from <code class="code docutils literal notranslate"><span class="pre">MultiPlanet</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The default number of cores <code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code> will use is the maximum number of
cores on the machine.</p>
</div>
</section>
<section id="checking-bigplanet-progress-with-bpstatus">
<h2>Checking <code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code> Progress with <code class="code docutils literal notranslate"><span class="pre">bpstatus</span></code><a class="headerlink" href="#checking-bigplanet-progress-with-bpstatus" title="Link to this heading"></a></h2>
<p>For large data sets, <code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code> may take several hours or more to complete. To check the
status, use <code class="code docutils literal notranslate"><span class="pre">bpstatus</span></code>, which employs the same syntax as <code class="code docutils literal notranslate"><span class="pre">mpstatus</span></code> above.</p>
</section>
<section id="extracting-and-plotting-with-bigplanet">
<h2>Extracting and Plotting with <code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code><a class="headerlink" href="#extracting-and-plotting-with-bigplanet" title="Link to this heading"></a></h2>
<p>After you have compressed your data, you need to access it. To accomplish this goal,
<code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code> is also a python module that can be imported into python scripts for the
extraction of data from the HDF5 file. For our example, final inner core radius as a function of
current potassium-40 abundance in the core and the initial core temperature, the script looks like
this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">bigplanet</span> <span class="k">as</span> <span class="nn">bp</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">vplot</span> <span class="k">as</span> <span class="nn">vpl</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">bp</span><span class="o">.</span><span class="n">HDF5File</span><span class="p">(</span><span class="err">‘</span><span class="n">ParameterSweep</span><span class="o">.</span><span class="n">bpf</span><span class="err">’</span><span class="p">)</span>
</pre></div>
</div>
<p>This loads in the necessary modules and reads in the HDF5 file as data. Now we are
ready to extract the data we want to graph, which are the initial values of TCore,
final values of potassium-40 power, and final values of the inner core radius. Let’s
start with inner core radius, grabbing its final values and its units:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">RIC</span> <span class="o">=</span> <span class="n">bp</span><span class="o">.</span><span class="n">ExtractColumn</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;earth:RIC:final&#39;</span><span class="p">)</span>
<span class="n">RIC_units</span> <span class="o">=</span> <span class="n">bp</span><span class="o">.</span><span class="n">ExtractUnits</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;earth:RIC:final&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>ExtractColumn returns an array in which each element corresponds to the final
value of the inner core radius for each simulation. The first argument is the HDF5
file, the second argument is called a “key” and describes a parameter of
interest. To learn more about keys, consult the <a class="reference external" href="https://github.com/VirtualPlanetaryLaboratory/vplanet/tree/master/multi-planet">BigPlanet documentation</a>.
In brief, the key syntax is “body_variable_aggregation”, in
which aggregation is some property of a body’s variable, e.g. the final value. The
second line returns the units of the key.</p>
<p>Next we want to grab the <em>x</em> and <em>y</em> values for our contour plot. This step is a bit complicated
because a specific value of <em>x</em> and/or <em>y</em> can be repeated multiple times. In other words,
if we just extracted every value from every simulation and placed it in an array, the
arrays would be multi-valued and the plot could not be built.  To obtain the values
needed for the plot, use the <code class="docutils literal notranslate"><span class="pre">ExtractUniqueValues</span></code> function, like so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">TCore_uniq</span> <span class="o">=</span> <span class="n">bp</span><span class="o">.</span><span class="n">ExtractUniqueValues</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;earth:TCore:initial&#39;</span><span class="p">)</span>
<span class="n">TCore_units</span> <span class="o">=</span> <span class="n">bp</span><span class="o">.</span><span class="n">ExtractUnits</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;earth:TCore:initial&#39;</span><span class="p">)</span>

<span class="n">K40_uniq</span> <span class="o">=</span> <span class="n">bp</span><span class="o">.</span><span class="n">ExtractUniqueValues</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;earth:40KPowerCore:final&#39;</span><span class="p">)</span>
<span class="n">K40_units</span> <span class="o">=</span> <span class="n">bp</span><span class="o">.</span><span class="n">ExtractUnits</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="s1">&#39;earth:40KPowerCore:final&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we have the values we need for our plot, but the inner core radius is currently
stored as an array, not a matrix, so we’re still not ready to plot. With <code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code> you
can easily transform an array into the appropriately shaped matrix with the <code class="docutils literal notranslate"><span class="pre">CreateMatrix</span></code>
function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">RIC_Matrix</span> <span class="o">=</span> <span class="n">bp</span><span class="o">.</span><span class="n">CreateMatrix</span><span class="p">(</span><span class="n">TCore_uniq</span><span class="p">,</span><span class="n">K40_uniq</span><span class="p">,</span><span class="n">RIC</span><span class="p">)</span>
</pre></div>
</div>
<p>This method takes 3 arguments and 1 optional argument, the <em>x</em>-axis vector, the <em>y</em>-axis vector, the array
that must be converted into a 2D matrix and an optional orientation argument.</p>
<p>Now we’re ready to plot using <code class="code docutils literal notranslate"><span class="pre">vplot</span></code> and <code class="code docutils literal notranslate"><span class="pre">matplotlib.</span></code> We won’t show the lines of code here,
but remember this example is included in <a class="reference external" href="https://github.com/VirtualPlanetaryLaboratory/vplanet/tree/master/examples/BigPlanetExample">examples/BigPlanetExample</a>.
Ultimately, you will obtain the following plot, which includes a black curve for the current value
of Earth’s inner core radius.</p>
<figure class="align-default">
<img alt="_images/BigPlanetExample.png" src="_images/BigPlanetExample.png" />
</figure>
</section>
<section id="creating-meta-data-files-with-bigplanet">
<h2>Creating Meta-Data Files with <code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code><a class="headerlink" href="#creating-meta-data-files-with-bigplanet" title="Link to this heading"></a></h2>
<p>Finally, it’s often convenient to write out ASCII files in which each line contains the meta-data
for your parameter sweep, e.g. the initial eccentricity, the final semi-major axis, and the maximum
inclination. <code class="code docutils literal notranslate"><span class="pre">BigPlanet</span></code> facilitates the creation of these files with the <code class="docutils literal notranslate"><span class="pre">ArchiveToCSV</span></code> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ArchiveToCSV</span><span class="p">(</span><span class="n">inputfile</span><span class="p">,</span> <span class="n">columns</span><span class="p">,</span> <span class="n">exportfile</span><span class="p">,</span> <span class="n">delim</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ulysses</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>where:</p>
<p><em>inputfile</em> is the name of the HDF5 file</p>
<p><em>columns</em> is the list of keys you are extracting, i.e. the output from calls to ExtractColumn</p>
<p><em>exportfile</em> is the name of the output file</p>
<p><em>delim</em> is the delimiter for the output file (the default is spaces)</p>
<p><em>header</em> adds the names and units for each column (default is False)</p>
<p><em>ulysses</em> makes the file compatible with <a class="reference external" href="https://www.vrulysses.com/">VR Ulysses</a> (default is 0)</p>
<p>You are now ready to efficiently explore your parameter space!</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="vplot.html" class="btn btn-neutral float-left" title="VPLOT" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tutorials.html" class="btn btn-neutral float-right" title="Tutorials" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018-2024, The VPLanet Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>